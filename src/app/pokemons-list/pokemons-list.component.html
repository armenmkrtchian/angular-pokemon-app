<h1>Pokemons List</h1>
<section class="search-by-type-wrapper">
    <div>
        <ng-container *ngIf="(pokemonsTypes$ | async) as pokemonsTypes">
            <mat-form-field appearance="fill">
                <mat-select [panelClass]="'search-by-type-dropdown'" [(value)]="searchType" [placeholder]="'AllTypes'">
                    <mat-option *ngFor="let type of pokemonsTypes" [value]="type.name">
                        {{type?.name | titlecase}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </ng-container>
    </div>
    <div class="search-by-type-btn">
        <button mat-raised-button color="primary" (click)="searchPokemonsByType(searchType)"
            [disabled]="!searchType">Search By Type</button>
    </div>

</section>
<ng-container *ngIf="pokemons">
    <cdk-virtual-scroll-viewport class="example-viewport" itemSize="50"
        (scrolledIndexChange)="(offset < limitOfOffset) ? loadPokemon(searchType, $event):null">
        <div class="example-button-row" *cdkVirtualFor="let pokemon of pokemons; trackBy: trackByIdx"
            class="example-item">
            <a mat-raised-button color="primary" routerLink="details/{{pokemon.pokeIndex || pokemon.name}}">
                {{(pokemon?.name | titlecase) || 'Loading...'}}
            </a>
        </div>
    </cdk-virtual-scroll-viewport>
</ng-container>